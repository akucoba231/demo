<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover" />
  <meta name="og:description" content="Halaman demo dari Fun Move" />
  <title>Fun Move</title>
  <link rel="preload" as="image" href="assets/run.jpg"> 
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script> 
  <script src="js/data.js"></script>  
  <style>
    /* Global Reset & Viewport Fix */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: "PoetsenOne", sans-serif;
    }

    /* Menggunakan 100dvh untuk mengatasi pemotongan di Android 14 */
    html, body{
      padding: 0; 
      margin: 0;
    }

    body {
      overflow-y: auto; /* Memungkinkan scrolling body jika wrapper lebih pendek dari viewport */
      position: relative;
      width: 100vw;
      height: 100dvh; 
      border: none;
      
      /* Styling untuk desktop view: Memusatkan konten di tengah layar */
      background-color: #f0f0f0; 
      display: flex;
      justify-content: center; 
      align-items: center; 
    }

    /* ===== APLIKASI WRAPPER (Bingkai Smartphone) ===== */
    #app-wrapper {
      position: relative;
      width: 100%;
      height: 100%; 
      /* Batasan Lebar Maksimum untuk tampilan Desktop */
      max-width: 450px; 
      /* Batasan Tinggi Maksimum, opsional */
      max-height: 800px;
      overflow: hidden; 
      background-color: white; 
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.2); 
    }

    section {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%; 
      height: 100%; 
      overflow-y: auto;
      transition: opacity 0.5s ease, visibility 0.5s ease;
      
      /* Default padding 0, akan diatur di media query untuk HP */
      padding-top: 0; 
      padding-bottom: 0;
    }

    /* Media query untuk memastikan tampilan 100% di perangkat seluler */
    @media (max-width: 450px) {
      #app-wrapper {
        max-width: none;
        max-height: none;
        width: 100vw;
        height: 100dvh;
        box-shadow: none;
      }
      /* Mengembalikan padding area aman di perangkat HP nyata */
      section {
        padding-top: env(safe-area-inset-top, 10px); 
        padding-bottom: env(safe-area-inset-bottom, 10px);
      }
    }


    .page {
      opacity: 0;
      visibility: hidden;
      z-index: 0;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      gap: 10px;
    }

    .active {
      opacity: 1;
      visibility: visible;
      z-index: 10;
    }

    @font-face {
      font-family: 'Luckiest Guy';
      src: url('css/LuckiestGuy-Regular.ttf') format('truetype');
    }

    @font-face {
      font-family: 'PoetsenOne';
      src: url('css/PoetsenOne-Regular.ttf') format('truetype');
    }

    .text-title {
      font-family: "Luckiest Guy", cursive;
      font-weight: 800;
    }

    /* ===== SPLASH ===== */
    #splash {
      background-color: #3da9fc;
      color: white;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }

    h1 {
      font-size: 3.5em;
      line-height: 1;
      text-align: center;
    }

    .fun { color: white; }
    .move { color: #ffd60a; }

    .run-img {
      width: 150px;
      margin: 1em auto;
      display: block;
    }

    .progress {
      width: 80%;
      height: 6px;
      background: rgba(255, 255, 255, 0.5);
      border-radius: 10px;
      margin: 1em auto;
      overflow: hidden;
    }

    .bar {
      height: 100%;
      width: 0%;
      background-color: white;
      animation: loading 3s forwards;
    }

    @keyframes loading {
      from { width: 0%; }
      to { width: 100%; }
    }

    /* ===== FORM ===== */
    #main {
      background: url('assets/boy-waved.png') no-repeat center bottom; 
      background-size: 50%;
      background-color: #ffe66d;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 2em;
    }

    .header h2 {
      font-size: 1.8em;
      color: white;
      text-shadow: 1px 2px #222;
      text-align: center;
    }

    .card {
      background: rgba(255,255,255,0.2);
      border-radius: 15px;
      padding: 1em;
      text-align: center;
      box-shadow: 1px 1px 4px #222;
      margin-top: 1.5em;
    }

    .card input {
      width: 95%;
      border-radius: 10px;
      padding: 2%;
      margin: 2.5%;
      font-size: 1rem;
      background: transparent;
      color: #fff;
      text-shadow: 1px 1px #222;
      border: 1px solid rgba(255,255,255,0.4);
    }

    .card input::placeholder {
      color: white;
      opacity: 0.6;
    }

    .card button {
      background: #3da9fc;
      color: #fff;
      text-shadow: 1px 1px #222;
      transition: 0.3s;
      padding: 0.5em 2em;
      border-radius: 10px;
      border: none;
      cursor: pointer;
    }

    .card button:active {
      transform: scale(0.95);
    }

    /* ===== DASHBOARD (Tampilan di Gambar 1) ===== */
    #dashboard {
      background-color: #3da9fc;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      padding: 1.5em;
      text-align: center;
      
    }

    #dashboard h1 {
      font-family: 'Luckiest Guy', cursive;
      color: white;
      font-size: 2.8em;
    }

    #dashboard h1 span.move {
      color: #ffd60a;
    }

    #dashboard p.subtitle {
      color: #fff;
      opacity: 0.8;
      font-size: 0.9em;
      margin-top: 1px;
    }

    #dashboard .hero img {
      width: 130px;
      margin: 1em 0;
    }

    #dashboard h2 {
      color: white;
      font-weight: 600;
    }

    .menu {
      background: transparent;
      border-radius: 20px;
      padding: 1em;
      display: grid;
      grid-template-columns: 1fr 1fr;
      grid-gap: 0.8em;
      width: 100%;
    }

    .menu button {
      background: #eef5ff;
      border-radius: 12px;
      text-align: center;
      padding: 1em;
      transition: 0.3s;
      font-weight: bold;
      color: #222;
      border: none;
      cursor: pointer;
      box-shadow: 1px 1px 3px #222;
    }

    .menu button:hover {
      transform: scale(1.05);
    }

    /* ===== AKTIVITAS ===== */
    #aktivitas {
      background-color: #ffe66d;
      padding: 1.5em;
    }

    #aktivitas h2 {
      text-align: center;
      font-family: 'Luckiest Guy', cursive;
      margin-bottom: 1em;
    }

    .materi-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 1em;
    }

    .materi-item {
      position: relative;
      background: white;
      border-radius: 12px;
      text-align: center;
      padding: 1em;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      cursor: pointer;
      /*transition: transform 0.3s;*/
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .materi-item-number {
      position: absolute;
      top: 0;
      left: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      width: 30px;
      height: 30px;
      background: rgba(2,2,2,.7);
      color: #fff;
      border-radius: 50%;
    }

    .materi-item:hover {
      animation: vibe 1s 1 ease-in-out;
    }

    @keyframes vibe {
      0% {
        transform: scale(1.1);
      }
      20% {
        transform: scale(1.1) rotateZ(-15deg);
      }
      50% {
        transform: scale(1.1) rotateZ(15deg);
      }
      80% {
        transform: scale(1.1) rotateZ(-15deg);
      }
      100% {
        transform: scale(1.0);
      }
    }

    .materi-item img {
      width: 80px;
      height: 80px;
      object-fit: contain;
      margin-bottom: 0.5em;
    }

    /* ===== DETAIL MATERI ===== */
    #detailMateri {
      background: #DDF4E7;
      padding: 1.5em;
      text-align: center;
    }

    #detailMateri img, #detailMateri video {
      width: 90%;
      margin: 1em auto;
      border-radius: 12px;
      border: 1px solid #fff;
    }

    #detailMateri h2 {
      font-family: 'Luckiest Guy', cursive;
      color: #3da9fc;
    }

    #detailMateri p, #detailMateri ul, #detailMateri ol {
      background-color: #fefefe;
      padding: 1em 0.5em;
      border-radius: 15px;
      box-shadow: 1px 1px 2px #222;
    }

    #detailMateri p:hover, #detailMateri ul:hover, #detailMateri ol:hover {
      box-shadow: inset 2px 2px 3px #222;
    }

    #detailMateri p {
      margin: 1em auto 0em auto;
      width: 90%;
      line-height: 1.4;
      text-align: left;
    }

    #detailMateri ul, #detailMateri ol {
      text-align: left;
      width: 90%;
      list-style-position: inside;
    }

    #detailMateri button, .page button {
      background: #3da9fc;
      color: white;
      padding: 0.5em 1.5em; /* Disesuaikan agar tidak terlalu besar */
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-weight: bold;
      margin-top: 1em; 
    }

    .page .menu button {
      background: #fff;
      color: #222;
    }

    /* ===== HALAMAN LAIN (Progress) - BARU ===== */
    #progress {
      background-color: #ffd66d; /* Background Kuning/Oranye Terang */
      padding: 1.5em;
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    #progress h2 {
      display: none; /* Hapus h2 lama */
    }

    .progress-card {
      background-color: white;
      border-radius: 25px;
      padding: 1.5em 1em;
      border: 15px solid #ffa500; /* Tepi luar Oranye */
      max-width: 350px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      width: 100%;
    }

    .progress-title-wrapper {
      margin-bottom: 20px;
    }

    .progress-title {
      font-family: 'Luckiest Guy', cursive;
      color: #222;
      font-size: 1.8em;
      text-align: center;
    }

    .chart-ring-wrapper {
      width: 150px; /* Ukuran total chart ring */
      height: 150px;
      margin: 1em auto;
      position: relative;
    }

    .chart-ring-text {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
    }

    .chart-ring-text .count {
      font-family: 'Luckiest Guy', cursive;
      font-size: 2em;
      color: #3da9fc; /* Warna biru */
      line-height: 1;
    }

    .total-point {
      margin: 1.5em 0 1em;
    }

    .total-point .label {
      font-size: 1em;
      font-weight: bold;
      color: #222;
      opacity: 0.7;
    }

    .total-point .value {
      font-family: 'Luckiest Guy', cursive;
      font-size: 2.5em;
      color: #ffa500; /* Warna oranye */
      line-height: 1;
    }

    .chart-bar-wrapper {
      width: 90%;
      margin: 2em auto 1.5em;
    }

    .badge-list {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 1em;
    }

    .badge-item {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-color: #f0f0f0;
      display: flex;
      justify-content: center;
      align-items: center;
      border: 3px solid #ffd60a; /* Contoh border lencana */
    }

    .badge-item img {
      width: 60%;
      height: 60%;
      object-fit: contain;
    }
    
    /* ===== PANDUAN BARU CSS ===== */
    #panduan {
      background-color: #6cdd6c; /* Background hijau */
      padding: 1.5em; 
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start; 
    }

    #panduan h2 {
      display: block; /* Hapus h2 lama */
      color: #fff;
      text-shadow: 1px 1px 2px #222;
      width: 90%;
      size: 0.8em;
    }

    .panduan-card {
      background-color: white;
      border-radius: 20px; 
      padding: 1em 0.5em;
      border: 15px solid #6cdd6c; 
      max-width: 350px; 
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 90%;
      transition: 0.5s;
    }

    .panduan-card:hover {
      transform: scale(1.05);
    }

    .panduan-card h3 {
      text-align: center;
      width: 80%;
      padding-top: 0.5em;
      padding-bottom: 1em;
      margin-bottom: 1em;
      border-bottom: 2px dashed #6cdd6c;
    }

    .panduan-title {
      font-family: 'Luckiest Guy', cursive;
      color: #222; 
      font-size: 1.8em;
      text-align: center;
      line-height: 1.1;
      margin-bottom: 0.5em;
    }

    .panduan-image {
      width: 120px;
    }

    .panduan-list {
      list-style-position: inside;
      padding: 0 0.5em;
      width: 100%;
    }

    .panduan-list li {
      margin-bottom: 3px;
    }

    .panduan-item {
      background-color: transparent;
      border-radius: 10px;
      padding: 1em 0;
      text-align: center;
      font-weight: bold;
      color: #222;
      border-top: 1px solid #ddd; 
      cursor: pointer;
    }

    .panduan-item:first-child {
      border-top: none;
    }


    /* ===== INTERAKTIF BARU CSS ===== */
    #interaktif {
      /* Background Oranye terang di sisi kartu */
      background-color: #ffd66d; 
      padding: 1.5em; 
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start; 
    }

    .interaktif-card {
      background-color: white;
      border-radius: 25px; 
      padding: 1.5em 1em;
      /* Tepi luar Oranye */
      border: 15px solid #ffa500; 
      max-width: 350px; 
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      width: 90%;
    }

    .interaktif-title-wrapper {
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      padding-bottom: 15px;
      margin-bottom: 15px;
      border-bottom: 1px solid #ddd;
    }

    .interaktif-back-btn {
      position: absolute;
      left: 0;
      font-size: 2em;
      font-weight: bold;
      color: #222;
      cursor: pointer;
      line-height: 1;
    }

    .interaktif-title {
      font-family: 'Luckiest Guy', cursive;
      color: #222; 
      font-size: 1.5em;
      text-align: center;
    }

    .interaktif-list {
      list-style: none;
      padding: 0;
      margin: 0;
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .interaktif-item {
      background-color: white;
      border-radius: 15px;
      padding: 10px 15px;
      font-weight: bold;
      color: #222;
      display: flex;
      align-items: center;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      transition: transform 0.2s;
      cursor: pointer;
    }

    .interaktif-item:hover {
      transform: scale(1.02);
    }

    .interaktif-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      margin-right: 15px;
      border: 3px solid #ffd60a; /* Border kuning */
    }

    .interaktif-icon img {
      width: 60%;
      height: 60%;
      object-fit: contain;
    }

    .menu-item {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      gap: 0.5em;
    }

    .twice {
      grid-column: span 2;
      flex-direction: row;
    }

    .thumbnail {
      width: 80px;
    }

    .thumbnail-ss {
      width: 40px;
    }

    .thumbnail-fix {
      height: 80px;
      width: 54px;
    }

    #cariTahu {
      background-color: #BDE3C3;
      padding-bottom: 5em;
    }


    .bacaan {
      font-weight: 100;
      width: 80%;
      background-color: rgba(255,255,255,.8);
      border: 0.5em solid #6cdd6c;
      transition: 1s;
    }

    .bacaan:hover {
      transform: scale(1.05);
    }

    .bacaan h2 {
      margin-bottom: 0.5em;
      padding-bottom: 0.5em;
      border-bottom: 2px dashed #6cdd6c;
    }
    .bacaan p {
      text-indent: 2em;
      text-align: left;
    }

    .bacaan ol {
      padding: 0.5em;
      text-align: left;
    }

    .to-home {
      box-shadow: 1px 1px 3px #fff;
    }

    .to-home:hover {
      border: 2px solid #fff;
      box-shadow: inset 2px 2px 3px #222;
    }

    #alat li, #praktik li {
      line-height: 16px;
      margin-bottom: 8px;
    }

    .h2-judul {
      color: #fff;
      text-shadow: 2px 2px 4px #222;
      font-size: 2.0em;
    }

    /* Judul Form */
    .form-title {
      font-size: 1.5em;
      font-weight: bold;
      color: #333;
      margin-bottom: 20px;
      text-align: center;
      border-bottom: 2px solid #ffc107;
      padding-bottom: 10px;
    }

    /* Gaya untuk setiap grup input (label + input) */
    .form-group {
      margin-bottom: 18px;
    }

    /* Label Input */
    .form-group label {
      display: block;
      font-weight: 500;
      margin-bottom: 8px;
      color: #555;
      font-size: 0.95em;
    }

    /* Input Field */
    .form-group input {
      width: 100%;
      padding: 10px;
      border: 2px solid #ddd;
      border-radius: 10px;
      box-sizing: border-box; 
      font-size: 1em;
      transition: border-color 0.3s;
    }

    .form-group input:focus {
      border-color: #ffc107;
      outline: none;
    }

    /* Tombol Submit */
    .submit-button {
      display: block;
      width: 100%;
      padding: 12px;
      background-color: #007bff; /* Biru terang */
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 1em;
      font-weight: bold;
      cursor: pointer;
      margin-top: 20px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      transition: background-color 0.3s;
    }

    .submit-button:hover {
      background-color: #0056b3;
    }

    /* ===== DATADIRI BARU CSS ===== */
    #datadiri {
      background-color: #B4DEBD; /* Background hijau */
      padding: 2em 1.5em 2.5em 1.5em; 
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start; 
    }

    #datadiri h3 {
      margin: 1em auto;
      padding: 0.5em 1em;
      width: 90%;
      color: #fff;
      text-align: center;
      text-shadow: 2px 2px 5px #222;
    }

    .datadiri-card {
      width: 90%;
    }

    .datadiri-card div {
      background-color: white;
      border-radius: 20px; 
      padding: 1em;
      border: 15px solid #B4DEBD; 
      max-width: 350px; 
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      width: 100%;
      transition: 0.5s;
      margin: 1em auto;
    }

    .datadiri-card div p {
      color: #999;
    }

    .datadiri-card div p span {
      color: #222;
    }


    .datadiri-card div div {
      border: 1px solid #B4DEBD;
      display: flex;
      justify-content: flex-start;
      align-items: center;
    }

    /* Styling untuk Settings  */
    #settings {
      background-color: #B0CE88;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      gap: 1.5em;
    }

    #settings label {
      font-size: 1.1em;
      padding: 1em;
      border-radius: 12px;
      border: 0.5em solid #4C763B;
      background-color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 1em;
    }

    #settings label input {
      width: 25px;
      aspect-ratio: 1/1;
    }

    #settings a {
      color: #fff;
      text-shadow: 2px 2px 3px #222;
      text-decoration: none;
      margin-top: -1.5em;
      font-size: 0.9em;
    }
  </style>
</head>
<body>
  <div id="app-wrapper">

    <section id="splash" class="page active">
      <h1><span class="fun text-title">FUN</span> <span class="move text-title">MOVE</span></h1>
      <p>Ayo Bergerak Bersama!</p>
      <img src="assets/run.png" alt="Anak berlari" class="run-img" />
      <div class="progress"><div class="bar"></div></div>
    </section>

    <section id="main" class="page">
      <div class="header">
        <h2>Halo!</h2>
        <h2 id="sapaNama">Perkenalkan dirimu</h2>
      </div>
      <div class="card">
        <input type="text" placeholder="Masukkan nama kamu" id="nama" />
        <input type="text" placeholder="Masukkan umur kamu" id="umur" />
        <input type="text" placeholder="Masukkan kelas kamu" id="kelas" />
        <input type="text" placeholder="Masukkan sekolah kamu" id="sekolah" />
        <input type="text" placeholder="Masukkan hobi kamu" id="hobi" />
        <button id="simpanProfile" onclick="simpanProfile()">Simpan</button>
        <button id="batalkanProfile" style="background-color:#222; color: #fff; margin: 0.5em auto;" onclick="showPage('datadiri')">Batal</button>
      </div>
    </section>

    <section id="dashboard" class="page">
      <div>
        <h1><span class="fun">FUN</span> <span class="move">MOVE</span></h1>
        <p class="subtitle">Physical Activity 10-12</p>
      </div>
      <div class="hero">
        <img src="assets/boy-waved.png" alt="Running girl" />
        <h2 id="sapaanDashboard">Ayo Bergerak!</h2>
      </div>
      <div class="menu">
        <button onclick="showPage('cariTahu')" class="twice menu-item">
          <img class="thumbnail-ss" src="assets/bulb.png" alt="" />
          Ayo cari tahu!
        </button>
        <button onclick="showPage('aktivitas')" class="menu-item">
          <img class="thumbnail" src="assets/touch.png" alt="" />
          Aktivitas
        </button>
        <button onclick="showPage('interaktif')" class="menu-item">
          <img class="thumbnail" src="assets/interaksi.png" alt="" />
          Game Activity
        </button>
        <button onclick="showPage('progress')" class="menu-item">
          <img class="thumbnail" src="assets/go.png" alt="" />
          Progress
        </button>
        <button onclick="showPage('panduan')" class="menu-item">
          <img class="thumbnail thumbnail-fix" src="assets/guide.png" alt="">
          Panduan
        </button>
        <button onclick="showPage('datadiri')" class="menu-item">
          <img class="thumbnail" style="width: 30px; aspect-ratio: 1/1;" src="assets/profil.png" alt="">
          Data Diri
        </button>
        <button onclick="showPage('settings')" class="menu-item">
          <img class="thumbnail" style="width: 30px; aspect-ratio: 1/1;" src="assets/settings.png" alt="">
          Pengaturan
        </button>
      </div>
    </section>

    <section id="cariTahu" class="page">
      <div class="card bacaan">
        <h2>üèÉ‚Äç‚ôÄÔ∏è Apa Itu <strong>Aktivitas Jasmani</strong> ?</h2>
        <p><strong>Aktivitas jasmani</strong> adalah bentuk kegiatan yang melibatkan gerakan tubuh 
          dan membutuhkan energi (WHO, 2020). Dalam konteks pendidikan, <strong>aktivitas jasmani</strong> tidak hanya bertujuan untuk melatih fisik, tetapi juga untuk mengembangkan keterampilan motorik, kemampuan sosial, serta membangun kebiasaan hidup sehat sejak dini.</p>
        </div>

     <!--    <div class="card bacaan">
          <h2>Karakteristik Anak Usia 10-12 Tahun</h2>
          <p>
            Anak usia 10‚Äì12 tahun mengalami perkembangan pesat dalam berbagai aspek.
            Dari segi fisik, terjadi peningkatan kekuatan otot, keseimbangan, dan koordinasi tubuh (Bailey, 2019). Secara kognitif, menurut teori Piaget (1972), anak pada tahap ini mulai mampu berpikir logis dan memahami hubungan sebab-akibat ‚Äî termasuk menyadari pentingnya aktivitas jasmani bagi kesehatan.
          </p>
          <p>
            Dari aspek sosial, anak mulai lebih senang berinteraksi dengan teman sebaya dan menikmati kegiatan kelompok. Oleh karena itu, model aktivitas jasmani yang dirancang untuk mereka sebaiknya mengandung unsur kerja sama, kompetisi positif, dan permainan yang menyenangkan (Tay et al., 2021).
          </p>

        </div> -->

        <div class="card bacaan">
          <h2>üí™ Manfaat Aktivitas Jasmani</h2>
          <ol>
            <li><b>Manfaat fisik</b> : Aktivitas jasmani meningkatkan kebugaran jantung dan paru, memperkuat tulang dan otot, serta menjaga berat badan ideal (WHO, 2020).</li>
            <li><b>Manfaat mental dan emosional</b> : Anak yang aktif cenderung lebih bahagia, percaya diri, dan mampu mengendalikan stres. Aktivitas fisik membantu meningkatkan hormon endorfin yang berperan dalam rasa senang (Veraksa et al., 2021).</li>
            <li><b>Manfaat sosial dan kognitif</b> : melalui permainan dan olahraga, anak belajar bekerja sama, mematuhi aturan, dan menghargai teman. Aktivitas jasmani juga terbukti dapat meningkatkan konsentrasi dan prestasi belajar (Hanifah, 2023).</li>
          </ol>
        </div>

        <!-- <div class="card bacaan">
          <h2>Prinsip Pengembangan Model Physical Activity untuk Anak</h2>
          <ol>
            <li>Kesesuaian dengan Tahap Perkembangan Anak</li>
            <li>Aspek Kesenangan dan Bermain (Fun Learning)</li>
            <li>Variasi dan Tantangan Bertahap</li>
            <li>Keterlibatan Sosial dan Kerja Sama</li>
            <li>Integrasi dengan Lingkungan Sekolah dan Keluarga</li>
          </ol>
        </div> -->

        <div class="card bacaan">
          <h2>üåû Kapan Waktu Terbaik Beraktivitas Jasmani?</h2>
          <ol>
            <li>Pagi hari ‚Äî udara masih segar dan tubuh siap bersemangat.</li>
            <li>Sore hari ‚Äî cocok untuk melepaskan lelah setelah belajar.</li>
            <li>Hindari waktu terlalu siang, karena cuaca panas bisa membuat cepat lelah.</li>
            <li>Pilih waktu saat tubuh terasa fit dan tidak mengantuk.</li>
            <li>Pastikan sudah makan secukupnya dan minum air putih sebelum mulai.</li>
            <li>Jika di luar ruangan, pilih waktu yang tidak terlalu panas atau hujan.</li>
            <li>Yang penting, lakukan secara rutin dan gembira! üòÑ</li>
          </ol>
        </div>

        <div class="card bacaan">
          <h2>üéí Perlengkapan Aktivitas Jasmani</h2>
          <ol>
            <li>üëï Pakaian nyaman ‚Äì Gunakan pakaian longgar dan mudah menyerap keringat.</li>
            <li>üëü Sepatu olahraga ‚Äì Pilih sepatu yang pas agar kaki tidak mudah cedera.</li>
            <li>üíß Air minum ‚Äì Siapkan botol air agar tubuh tetap terhidrasi.</li>
            <li>üßò Alas atau matras ‚Äì Untuk aktivitas di rumah, gunakan alas agar tidak licin.</li>
            <li>üè´ Di sekolah ‚Äì Ikuti instruksi guru atau pelatih, dan pastikan alat yang digunakan aman.</li>
          </ol>
        </div>

        <div class="card bacaan">
          <h2>‚ö†Ô∏è Tips Keamanan</h2>
          <ol>
            <li>Lakukan pemanasan dan pendinginan sebelum dan sesudah beraktivitas.</li>
            <li>Gunakan pakaian dan sepatu olahraga yang nyaman dan sesuai.</li>
            <li>Perhatikan kondisi tubuh, berhenti jika merasa sakit atau lelah.</li>
            <li>Pilih tempat yang aman dan bebas dari benda berbahaya.</li>
            <li>Ikuti instruksi guru atau pelatih dengan baik.</li>
            <li>Jaga kebersihan dan kesehatan sebelum dan sesudah berolahraga.</li>
            <li>Waspadai lingkungan sekitar agar tidak membahayakan diri atau teman.</li>
          </ol>
        </div>

        

        <button class="to-home" onclick="showPage('dashboard')">Kembali ke Dashboard</button>
      </section>

      <section id="aktivitas" class="page">
        <h2 class="h2-judul">Daftar Aktivitas</h2>
        <div class="materi-list" id="listAktivitas"></div>
        <button class="to-home" onclick="showPage('dashboard')">Kembali ke Dashboard</button>
      </section>

      <section id="detailMateri" class="page">
        <img id="materiGambar" src="" alt="Gambar Materi">
        <h2 id="materiJudul"></h2>
        <p id="materiDeskripsi"></p>
        <video id="materiVideo" controls>
          
        </video>
        <p>Alat yang dibutuhkan</p>
        <ol type="a" id="alat"></ol>
        <p>Cara melakukan</p>
        <ol type="1" id="praktik"></ol>
        <button class="to-home" onclick="showPage('aktivitas')">Kembali</button>
      </section>

      <section id="interaktif" class="page">
        <h2 class="h2-judul">Game Activity</h2>
        <div class="interaktif-card">
          <!-- <h2 class="interaktif-title-wrapper">
              <span class="interaktif-back-btn" onclick="showPage('dashboard')">&larr;</span>
              <span class="interaktif-title">Menu Interaktif</span>
          </h2> -->
          <ul class="interaktif-list">
            <li class="interaktif-item" onclick="startJurnal()">
              <span class="interaktif-icon" style="background-color: #3da9fc;">
                <!-- <img src="assets/quiz-icon.png" alt="Kuis Gerak">  -->
              </span>
              Move in Home
            </li>
              <!-- <li class="interaktif-item">
                  <span class="interaktif-icon" style="background-color: #ffd60a;">
                      <img src="assets/smile-icon.png" alt="Refleksi Diri"> 
                  </span>
                  Refleksi Diri
              </li>
              <li class="interaktif-item">
                  <span class="interaktif-icon" style="background-color: #ffd60a;">
                      <img src="assets/star-icon.png" alt="Poin & Lencana"> 
                  </span>
                  Poin & Lencana
              </li>
              <li class="interaktif-item">
                  <span class="interaktif-icon" style="background-color: #3da9fc;">
                      <img src="assets/game-icon.png" alt="Mini Game"> 
                  </span>
                  Mini Game
              </li> -->
            </ul>
          </div>

          <!-- Untuk jurnaling dan penilaian -->

          <div style="margin: 20px 0; width: 90%; max-width: 400px; border-top: 2px dashed #ffc107;"></div>

          <div class="interaktif-card">
            <h2 class="form-title">Lakukan aktivitas jasmani berikut di rumah,<br>
              <small>catat hasil kamu di sini</small>
            </h2>

            <form id="aktivitasGerakForm">

              <div class="form-group">
                <label for="pushup">1. Berapa kali kamu mampu **push up** dengan benar dalam 1 menit? Lakukan dan isi hasilnya.</label>
                <input type="number" id="pushup" name="pushup" placeholder="Isi hasilnya (kali)" required>
              </div>

              <div class="form-group">
                <label for="situp">2. Berapa kali kamu mampu **sit up** dengan benar dalam 1 menit? Lakukan dan isi hasilnya.</label>
                <input type="number" id="situp" name="situp" placeholder="Isi hasilnya (kali)" required>
              </div>

              <div class="form-group">
                <label for="jumpingjack">3. Berapa kali kamu mampu **lompat jumping jack** dalam 1 menit? Lakukan dan isi hasilnya.</label>
                <input type="number" id="jumpingjack" name="jumpingjack" placeholder="Isi hasilnya (kali)" required>
              </div>

              <div class="form-group">
                <label for="jogging">4. Berapa lama kamu mampu melakukan **lari jogging**? Lakukan dan isi hasilnya. (menit)</label>
                <input type="number" id="jogging" name="jogging" placeholder="Isi hasilnya (contoh: 10)" required>
              </div>

              <div class="form-group">
                <label for="lemparbola">5. Berapa kali kamu mampu **melempar bola memasukkan ke dalam keranjang** dari jarak 2 meter. Dalam waktu 1 menit? Lakukan dan catat hasilnya.</label>
                <input type="number" id="lemparbola" name="lemparbola" placeholder="Isi hasilnya (kali)" required>
              </div>

              <button type="submit" class="submit-button">Kirim Hasil Aktivitas üí™</button>
            </form>
          </div>

          <button class="to-home" onclick="showPage('dashboard')">Kembali ke Dashboard</button>
        </section>

        <section id="progress" class="page">
          <div class="progress-card">
            <div class="progress-title-wrapper">
              <h2 class="progress-title">Menu Progress</h2>
            </div>

            <div class="chart-ring-wrapper">
              <canvas id="activityRingChart"></canvas>
              <div class="chart-ring-text">
                <span class="count" id="currentActivityCount">0/0</span>
              </div>
            </div>

            <div class="total-point">
              <p class="label">Total Gerakan</p>
              <p class="value" id="totalPointValue">0</p>
            </div>

            <div class="chart-bar-wrapper">
              <canvas id="pointBarChart"></canvas>
            </div>

            <div class="badge-list">
              <!-- <div class="badge-item" style="border-color: #3da9fc;">
               <img src="assets/star-icon.png" alt="Lencana 1"> 
             </div>
             <div class="badge-item" style="border-color: #ffa500;">
               <img src="assets/smile-icon.png" alt="Lencana 2">
             </div>
             <div class="badge-item" style="border-color: #6cdd6c;">
               <img src="assets/quiz-icon.png" alt="Lencana 3">
             </div> -->
           </div>

         </div>
         <button class="to-home" onclick="showPage('dashboard')">Kembali ke Dashboard</button>
       </section>

       <section id="panduan" class="page">

        <img src="assets/read.png" alt="Anak membaca buku panduan" class="panduan-image" /> 

        <h2 class="panduan-title">üìò Panduan Penggunaan</h2>
        <div class="panduan-card">
          <h3>üèÉ‚Äç‚ôÄÔ∏è Menu <strong>Aktivitas</strong></h3>
          <ul class="panduan-list">
            <li>Menu ini berisi materi aktivitas jasmani.</li>
            <li>Setelah masuk ke menu <b>aktivitas</b>, akan tampil 40 materi aktivitas jasmani.</li>
            <li>Memilih salah satu aktivitas akan menampilkan rincian materinya.</li>
          </ul>
        </div>

        <div class="panduan-card">
          <h3>üèÜ Menu <strong>Game Activity</strong></h3>
          <ul class="panduan-list">
            <li>Menu ini berisi permainan atau kegiatan yang dapat dikerjakan di rumah.</li>
            <li>Di dalamnya ada <strong>Move in Home</strong>, yang perlu dikerjakan di rumah.</li>
            <li>Kerjakan tugas sesuai panduan, dan jangan lupa masukan hasilnya pada kolom "<strong>isi hasilnya</strong>"</li>
            <li>Lalu tekan tombol "<strong>Kirim hasil aktivitas</strong>" untuk menyimpan hasil tugas.</li>
            <li>Hasil ini nantinya akan diproses dan ditampilkan di menu <em>progress</em></li>
            <li>Namun, siswa yang belum mengisi data dirinya, akan dialihkan untuk mengisi <em>form data diri</em> terlebih dahulu</li>
          </ul>
        </div>

        <div class="panduan-card">
          <h3>üßë‚Äçüíº Menu <strong>Data Diri</strong></h3>
          <ul class="panduan-list">
            <li>Menu ini berisi identitas siswa.</li>
            <li>Jika belum mengisi data diri, siswa akan dialihkan untuk mengisi <em>form data diri</em>.</li>
            <li><em>Form data diri</em> merupakah sub-menu untuk menyimpan atau mengubah data diri siswa.</li>
            <li>Di sini juga akan terlihat <em>badge</em> atau lencana untuk siswa yang rajin melakukan <em>game activity</em></li>
          </ul>
        </div>

        <div class="panduan-card">
          <h3>üìà Menu <strong>Progress</strong></h3>
          <ul class="panduan-list">
            <li>Menu ini berisi perkembangan aktivitas jasmani siswa.</li>
            <li>Siswa yang telah menyimpan hasil <em>Game Activity</em>, akan melihat hasil perkembangannya di sini.</li>
            <li>Diagram batang akan merepresentasikan berapa banyak rincian kegiatan siswa.</li>
            <li>Diagram lingkaran akan merepresentasikan berapa kali siswa melakukan satu set <em>Game Activity</em>.</li>
          </ul>
        </div>

        <div class="panduan-card">
          <h3>üìò Menu <strong>Panduan</strong></h3>
          <ul class="panduan-list">
            <li>Menu ini berisi petunjuk penggunaan aplikasi.</li>
          </ul>
        </div>

        <div class="panduan-card">
          <h3>‚öôÔ∏è Menu <strong>Pengaturan</strong></h3>
          <ul class="panduan-list">
            <li>Menu ini berisi pengaturan suara latar dan suara efek.</li>
            <li>Pengaturan memuat apakah suara akan diaktifkan atau tidak.</li>
          </ul>
        </div>
        <button class="to-home" onclick="showPage('dashboard')">Kembali ke Dashboard</button>
      </section>

      <section id="datadiri" class="page">
        <h2 class="h2-judul">Data Diri</h2>
        <div class="datadiri-card">
          <h3 id="dataNama">Nama Siswa</h3>
          <div>
            <p>Umur : <span id="dataUmur">10</span></p>
            <p>Kelas : <span id="dataKelas">3</span></p>
            <p>Sekolah : <span id="dataSekolah">SDN</span></p>
            <p>Hobi : <span id="dataHobi">hobi</span></p>
          </div>
          <div>
            <p>Data Pencapaian dan Aktivitas Siswa</p>
            <p>Total Aktivitas : <span id="totalAktivitas">0</span></p>
            <p>Total Pelaksanaan : <span id="totalPelaksanaan">0</span></p>
            <div id="penghargaan">

            </div>
          </div>
        </div>
        <button class="to-home" style="background-color:#222; margin: 0 auto 1em auto;" onclick="showPage('main')">Ubah Data Diri</button>
        <button class="to-home" onclick="showPage('dashboard')">Kembali ke Dashboard</button>
      </section>

      <section id="settings" class="page">
        <h2 class="h2-judul">Pengaturan Aplikasi</h2>
        <label>
          <input type="checkbox" id="musiklatar" checked /> Aktifkan Musik Latar
        </label>
        <a href="https://pixabay.com/users/anaknusantara115-25146881/">Music by anaknusantara115, pixabay</a>
      <!-- <label>
        <input type="checkbox" id="musiksfx" /> Aktifkan Suara Efek
      </label> -->
      <button class="to-home" onclick="showPage('dashboard')">Kembali ke Dashboard</button>
    </section>

  </div> 
  <script>
      let profile = "fun-profil"; //untuk simpan profile

      // start 

      window.addEventListener("load", () => {
        setTimeout(() => {
          showPage("dashboard");
        }, 3000);
      });

    // Dummy data
      const materiData = [
        {
          id: 1,
          judul: "Peregangan Dasar",
          deskripsi: "Latihan ringan untuk memulai hari dengan tubuh segar dan siap beraktivitas.",
          gambar: "assets/stretch.png"
        },
        {
          id: 2,
          judul: "Lompat Tali",
          deskripsi: "Melatih kelincahan dan kebugaran tubuh dengan cara yang menyenangkan.",
          gambar: "assets/jump.png"
        }
      ];

    // Variabel global untuk menyimpan referensi chart
      let activityRingChart;
      let pointBarChart;

      function hitungTotal(act){
        getDataProgress();
        let tmp = 0;
        dataProgress.forEach((item) => {
          tmp += parseInt(item[act]); //pushup, situp, jumpingjack, jogging, lemparbola
        })
        return parseInt(tmp);
      }

      function getBadge(){
        let badge = localStorage.getItem('fun-badge');
        let tmp;
        if(badge == undefined){
          tmp = "";
        }
        else {
          tmp = JSON.parse(badge)
        }
        return tmp;
      }

      function updateBadge(nilai){
        //console.log(nilai);
        //console.log(typeof nilai);
        // jika nilai total mencapai 100 badge 1 => kelipatan 100, maksimal 400
        let tmp = getBadge() //string reward

        if(tmp === ""){
          tmp = []
        }
        console.log(tmp.length)
        
        if(tmp.length == 0 && nilai >= 100){
          tmp[tmp.length] = penghargaan[tmp.length];
          tmp = JSON.stringify(tmp)
          localStorage.setItem('fun-badge', tmp);
        }
        else if(tmp.length == 1 && nilai >= 200){
          tmp[tmp.length] = penghargaan[tmp.length];
          tmp = JSON.stringify(tmp)
          localStorage.setItem('fun-badge', tmp);
        }
        else if(tmp.length == 2 && nilai >= 300){
          tmp[tmp.length] = penghargaan[tmp.length];
          tmp = JSON.stringify(tmp)
          localStorage.setItem('fun-badge', tmp);
        }
        else if(tmp.length == 3 && nilai >= 400){
          tmp[tmp.length] = penghargaan[tmp.length];
          tmp = JSON.stringify(tmp)
          localStorage.setItem('fun-badge', tmp);
        }
        else {
          // do nothing
          //return
        }
        
        
      }

      function writeBadge(){
        let tmp = getBadge(); //sudah diparse ternyata
        if(tmp !== ""){
          //console.log(typeof tmp)
          //console.log(tmp)
          //tmp = JSON.parse(tmp);
          tmp = tmp.join('');
          document.getElementById('penghargaan').textContent = tmp;
        }
      }

      function initProgressCharts() {
        // Hancurkan chart lama jika ada untuk mencegah duplikasi
        if (activityRingChart) activityRingChart.destroy();
        if (pointBarChart) pointBarChart.destroy();
        
        getDataProgress();
        dataProgress // array harusnya tidak kosong
        let keys = ['timestamp','pushup','situp','jumpingjack','lemparbola'];

        let pushup = hitungTotal('pushup');
        //console.log(pushup)
        let situp = hitungTotal('situp');
        let jumpingjack = hitungTotal('jumpingjack');
        let jogging = hitungTotal('jogging');
        let lemparbola = hitungTotal('lemparbola');

        let total = pushup + situp + jumpingjack + jogging + lemparbola;

        // Dummy Data
        const currentActivity = dataProgress.length;
        const totalActivity = total;
        const totalPoints = totalActivity; //Math.round(parseInt(totalActivity) / parseInt(currentActivity));
        
        updateBadge(totalActivity);

        // Update teks total
        document.getElementById('currentActivityCount').textContent = `${currentActivity} kali set`;
        document.getElementById('totalPointValue').textContent = totalPoints;

        // 1. Doughnut Chart (Activity Ring)
        const ringCtx = document.getElementById('activityRingChart');
        activityRingChart = new Chart(ringCtx, {
          type: 'doughnut',
          data: {
            datasets: [{
              data: [currentActivity],
              backgroundColor: ['#3da9fc'], //['#3da9fc', '#ffa500' ]
              borderWidth: 0,
            }]
          },
          options: {
            cutout: '80%', 
            plugins: {
              legend: { display: false },
              tooltip: { enabled: true }
            },
            responsive: true,
            maintainAspectRatio: false,
          }
        });

        // 2. Bar Chart (Points)
        const barCtx = document.getElementById('pointBarChart');
        pointBarChart = new Chart(barCtx, {
          type: 'bar',
          data: {
            labels: ['pushup', 'situp', 'jumpingjack', 'jogging', 'lemparbola'],
            datasets: [{
              label: 'Poin',
              data: [pushup, situp, jumpingjack, jogging, lemparbola], 
              backgroundColor: '#6cdd6c', 
              borderRadius: 5,
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: true,
            scales: {
              y: {
                beginAtZero: true,
                display: true, 
                grid: { display: true }
              },
              x: {
                grid: { display: false },
                border: { display: false },
              }
            },
            plugins: {
              legend: { display: false },
              tooltip: { enabled: true },
            }
          }
        });
      }


      // start of bantuan navigasi 
      function toTop(id){
        //console.log("totop s" + id)
        if(id != "aktivitas"){
          document.getElementById(id).scrollTo({
            "top" : 0,
            "left" : 0,
            "behavior" : "smooth"
          })
        }
      }

      function showPage(id) {
       // console.log("you in : " + id)
        document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
        document.getElementById(id).classList.add("active");

        toTop(id);
        if (id === "dashboard") {
          let tmp = getProfile();
          
          document.getElementById("sapaanDashboard").textContent = `Halo ${tmp}!`;

        } 
        else if (id === "aktivitas") {
          renderAktivitas();
        }
        else if (id === "progress") {
          if(localStorage.getItem('dataProgress') == undefined){
            alert('Kamu perlu mengerjakan game activity untuk melihat progress kamu.')
            //showPage('interaktif')
          }
          initProgressCharts();
        }
        // // main 
        else if(id === "main"){
          if(localStorage.getItem(profile) != undefined){
            document.getElementById('batalkanProfile').style.display = "block"; 
          }
          else {
            document.getElementById('batalkanProfile').style.display = "none";
          }
        }
        // }
        else if(id === "interaktif"){
          //console.log("do")
          if(localStorage.getItem(profile) == undefined){
            alert("kamu belum mengisi data diri kamu, isi dahulu ya");
            showPage('main');
          }
          else {
            resetForm();
          }
        }
        else if(id === "datadiri"){
          if(localStorage.getItem(profile) == undefined){
            alert("kamu belum mengisi data diri kamu, isi dahulu ya");
            showPage('main');
          }
          else {
            initDataDiri();
          }
        }
      }
    // end of navigasi


    // start of profile (data diri) setelan / pengaturan
      function simpanProfile() {
        const nama = document.getElementById("nama").value.trim();
        if (!nama) {
          alert("Nama tidak boleh kosong!");
          return;
        }

        const dataProfile = {
          nama,
          umur: document.getElementById("umur").value,
          kelas: document.getElementById("kelas").value,
          sekolah: document.getElementById("sekolah").value,
          hobi: document.getElementById("hobi").value
        };

        localStorage.setItem(profile, JSON.stringify(dataProfile));
        showPage("datadiri");
      }

      function getProfile() {
        if(localStorage.getItem(profile) != undefined){
          let tmp = localStorage.getItem(profile);
          tmp = JSON.parse(tmp);
          return tmp.nama;
        }
        else {
          return "";
        }
      }
    // end of profile (setelan / pengaturan)


    // start of aktivitas (materi)
      function renderAktivitas() {
        const container = document.getElementById("listAktivitas");
        container.innerHTML = all.map((m,i) => `
        <div class="materi-item" onclick="openMateri(${i})">
          <span class="materi-item-number">${i+1}</span>
          <!--<img src="${m.gambar}" alt="${m.aktivitas}" />-->
          <h3>${m.aktivitas}</h3>
        </div>
        `).join("");
      }

      function openMateri(id) {
        document.getElementById('detailMateri').scrollTo({
          "top": 0,
          "left": 0,
          "behavior": "smooth"
      }); // agar ke atas
      const data = all[id]; //materiData.find(m => m.id === id);
      document.getElementById("materiJudul").textContent = data.aktivitas;
      if(data.gambar != null){
        document.getElementById("materiGambar").src = data.gambar;
        console.log(data.gambar);
      }
      else {
        document.getElementById("materiGambar").style.display = "none";
      }
      document.getElementById("materiDeskripsi").textContent = data.tujuan;
      // ul video
      let vidWrap = document.getElementById('materiVideo');
      let source = document.createElement('source');
      source.src = data.video;
      source.type = "video/mp4";
      vidWrap.appendChild(source);

      // ul alat
      let alat = document.getElementById("alat");
      alat.innerHTML = data.alat.map( m => `
        <li>${m}</li>
      `).join("");

      //ul praktik
      let praktik = document.getElementById("praktik");
      praktik.innerHTML = data.praktik.map( m => `
        <li>${m}</li>
      `).join("");

      showPage("detailMateri");
    }

    // end of materi (aktivitas)

    // start bagian interaktif (game activity)

    function startJurnal(){
      document.getElementById('aktivitasGerakForm').scrollIntoView({
        behavior: 'smooth',  // bisa juga 'auto' untuk tanpa animasi
        block: 'start'       // opsi: 'start', 'center', 'end', atau 'nearest'
      });
    }

    function resetForm(){
      //console.log('reset-form')
      let form = document.getElementById('aktivitasGerakForm');
      form.reset();
      form.onsubmit = (e) => {
        e.preventDefault();
        simpanForm(form);
      }
    }

    // untuk progress 

    let dataProgress = [];

    function getDataProgress(){
      let tmp = localStorage.getItem('dataProgress');
      if(tmp == undefined || tmp == null){
        dataProgress = [];
      }
      else {
        dataProgress = JSON.parse(tmp);
      }
    }

    getDataProgress();

    function simpanForm(formNode){
      let input = ['pushup','situp','jumpingjack','jogging','lemparbola'];
      let data = {}
      let profil = getProfile(); // harusnya sudah ada
      if(profil == ""){
        alert('Silakan isi data diri dulu ya');
        showPage('main')
      }
      console.log(profil)

      data["timestamp"] = getWaktu();
      data["nama"] = profil;

      // setting penilaian ada di sini
      input.forEach((item)=>{
        let value = document.getElementById(item).value
        if(value == "" || value == null){
          value = 0;
        }
        data[item] = value //value;
      })
      formNode.reset();
      console.log(data);

      dataProgress[dataProgress.length] = data;
      let tmpData = JSON.stringify(dataProgress);
      console.log(tmpData);
      console.log(typeof tmpData)

      localStorage.setItem('dataProgress', tmpData);
      alert('aktivitas kamu sudah tersimpan, periksa menu Progress untuk melihat hasilnya');

    }

    function getWaktu(){
      let tmp = new Date();
      return tmp.getTime();
    }

    // end of game activity

    // start of datadiri

    function getDataDiri(){
      let tmp = localStorage.getItem(profile);
      return JSON.parse(tmp);
    }

    function initDataDiri(){
      let diri = getDataDiri(); //nama, umur, kelas, sekolah, hobi
      console.log(diri);
      let el = ["Nama","Umur","Kelas","Sekolah","Hobi"];
      el.forEach((item)=>{
        let tmp = item.toLowerCase();
        document.getElementById('data'+item).textContent = diri[tmp];
      })


      //getDataProgress();

      let pushup = hitungTotal('pushup');
        //console.log(pushup)
      let situp = hitungTotal('situp');
      let jumpingjack = hitungTotal('jumpingjack');
      let jogging = hitungTotal('jogging');
      let lemparbola = hitungTotal('lemparbola');

      let total = pushup + situp + jumpingjack + jogging + lemparbola;

      if(dataProgress.length <= 0){
        // data kosong
      }
      else {
        document.getElementById('totalAktivitas').textContent = total + " kali gerakan";
        document.getElementById('totalPelaksanaan').textContent = dataProgress.length + " kali pelaksanaan.";
        writeBadge();
      }

    }

    // end of datadiri

    // start of settings

    //untuk musik 

    // === Modal Konfirmasi Musik ===
    function confirmMusic() {
  // Buat overlay
      const overlay = document.createElement("div");
      overlay.style.position = "fixed";
      overlay.style.top = "0";
      overlay.style.left = "0";
      overlay.style.width = "100%";
      overlay.style.height = "100%";
      overlay.style.background = "rgba(0,0,0,0.5)";
      overlay.style.display = "flex";
      overlay.style.justifyContent = "center";
      overlay.style.alignItems = "center";
      overlay.style.zIndex = "100";

  // Buat modal
      const modal = document.createElement("div");
      modal.style.background = "#fff";
      modal.style.padding = "20px 30px";
      modal.style.borderRadius = "12px";
      modal.style.textAlign = "center";
      modal.style.boxShadow = "0 4px 12px rgba(0,0,0,0.3)";
      modal.style.fontFamily = "sans-serif";
      modal.innerHTML = `
    <h3 style="margin-bottom: 10px;">üé∂ Putar Musik Latar?</h3>
    <p style="margin-bottom: 20px;">Musik akan membuat suasana latihanmu lebih seru!</p>
      `;

  // Tombol
      const btnYes = document.createElement("button");
      const btnNo = document.createElement("button");
      btnYes.textContent = "Ya, Putar";
      btnNo.textContent = "Tidak";

      [btnYes, btnNo].forEach(btn => {
        btn.style.margin = "0 10px";
        btn.style.padding = "8px 18px";
        btn.style.border = "none";
        btn.style.borderRadius = "8px";
        btn.style.cursor = "pointer";
        btn.style.transition = "background 0.2s";
      });

      btnYes.style.background = "#4CAF50";
      btnYes.style.color = "#fff";
      btnNo.style.background = "#ddd";

  // Efek hover
      btnYes.onmouseenter = () => (btnYes.style.background = "#43A047");
      btnYes.onmouseleave = () => (btnYes.style.background = "#4CAF50");
      btnNo.onmouseenter = () => (btnNo.style.background = "#ccc");
      btnNo.onmouseleave = () => (btnNo.style.background = "#ddd");

  // Aksi tombol
      btnYes.onclick = () => {
        //alert("üéµ Musik latar diputar!");
        playMusik();
        //musik.checked;
        overlay.remove();
    // Contoh: play musik di sini
    // document.getElementById("bgMusic").play();
      };

      btnNo.onclick = () => overlay.remove();

  // Masukkan tombol ke modal
      modal.appendChild(btnYes);
      modal.appendChild(btnNo);
      overlay.appendChild(modal);
      document.body.appendChild(overlay);
    }

    

    let loadMusik = new Audio('musik_latar.mp3');
    loadMusik.load();
    

    function playMusik(){
      loadMusik.currentTime = 0; // mulai dari awal
      loadMusik.play().catch(err => {
        console.warn("Autoplay diblokir, user perlu interaksi:", err);
      });

      // Jika musik berakhir, putar lagi (loop manual)
      loadMusik.onended = () => {
        playMusik();
      };
    }

    function stopMusik(){
      loadMusik.pause();       // hentikan pemutaran
      loadMusik.currentTime = 0; // reset posisi ke awal
      loadMusik.onended = null;  // hapus event handler
    }


    let musik = document.getElementById('musiklatar');
    musik.addEventListener('change',(e)=>{
      if(e.target.checked){
        console.log(true);
        playMusik();
      }
      else
      {
        console.log(false);
        stopMusik();
      }
    })

    confirmMusic();

  </script>
</body>
</html>
