<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover" />
  <meta name="og:description" content="Halaman demo dari Fun Move" />
  <title>Fun Move</title>
  <link rel="preload" as="image" href="assets/run.jpg"> 
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script> 
  <script src="js/data.js"></script>  
  <style>
    /* Global Reset & Viewport Fix */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: "PoetsenOne", sans-serif;
    }

    /* Menggunakan 100dvh untuk mengatasi pemotongan di Android 14 */
    html, body{
      padding: 0; 
      margin: 0;
    }

    body {
      overflow-y: auto; /* Memungkinkan scrolling body jika wrapper lebih pendek dari viewport */
      position: relative;
      width: 100vw;
      height: 100dvh; 
      border: none;
      
      /* Styling untuk desktop view: Memusatkan konten di tengah layar */
      background-color: #f0f0f0; 
      display: flex;
      justify-content: center; 
      align-items: center; 
    }

    /* ===== APLIKASI WRAPPER (Bingkai Smartphone) ===== */
    #app-wrapper {
        position: relative;
        width: 100%;
        height: 100%; 
        /* Batasan Lebar Maksimum untuk tampilan Desktop */
        max-width: 450px; 
        /* Batasan Tinggi Maksimum, opsional */
        max-height: 800px;
        overflow: hidden; 
        background-color: white; 
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.2); 
    }

    section {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%; 
      height: 100%; 
      overflow-y: auto;
      transition: opacity 0.5s ease, visibility 0.5s ease;
      
      /* Default padding 0, akan diatur di media query untuk HP */
      padding-top: 0; 
      padding-bottom: 0;
    }

    /* Media query untuk memastikan tampilan 100% di perangkat seluler */
    @media (max-width: 450px) {
        #app-wrapper {
            max-width: none;
            max-height: none;
            width: 100vw;
            height: 100dvh;
            box-shadow: none;
        }
        /* Mengembalikan padding area aman di perangkat HP nyata */
        section {
          padding-top: env(safe-area-inset-top, 10px); 
          padding-bottom: env(safe-area-inset-bottom, 10px);
        }
    }


    .page {
      opacity: 0;
      visibility: hidden;
      z-index: 0;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      gap: 10px;
    }

    .active {
      opacity: 1;
      visibility: visible;
      z-index: 10;
    }

    @font-face {
      font-family: 'Luckiest Guy';
      src: url('css/LuckiestGuy-Regular.ttf') format('truetype');
    }

    @font-face {
      font-family: 'PoetsenOne';
      src: url('css/PoetsenOne-Regular.ttf') format('truetype');
    }

    .text-title {
      font-family: "Luckiest Guy", cursive;
      font-weight: 800;
    }

    /* ===== SPLASH ===== */
    #splash {
      background-color: #3da9fc;
      color: white;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }

    h1 {
      font-size: 3.5em;
      line-height: 1;
      text-align: center;
    }

    .fun { color: white; }
    .move { color: #ffd60a; }

    .run-img {
      width: 150px;
      margin: 1em auto;
      display: block;
    }

    .progress {
      width: 80%;
      height: 6px;
      background: rgba(255, 255, 255, 0.5);
      border-radius: 10px;
      margin: 1em auto;
      overflow: hidden;
    }

    .bar {
      height: 100%;
      width: 0%;
      background-color: white;
      animation: loading 3s forwards;
    }

    @keyframes loading {
      from { width: 0%; }
      to { width: 100%; }
    }

    /* ===== FORM ===== */
    #main {
      background: url('assets/boy-waved.png') no-repeat center bottom; 
      background-size: 50%;
      background-color: #ffe66d;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 2em;
    }

    .header h2 {
      font-size: 1.8em;
      color: white;
      text-shadow: 1px 2px #222;
      text-align: center;
    }

    .card {
      background: rgba(255,255,255,0.2);
      border-radius: 15px;
      padding: 1em;
      text-align: center;
      box-shadow: 1px 1px 4px #222;
      margin-top: 1.5em;
    }

    .card input {
      width: 95%;
      border-radius: 10px;
      padding: 2%;
      margin: 2.5%;
      font-size: 1rem;
      background: transparent;
      color: #fff;
      text-shadow: 1px 1px #222;
      border: 1px solid rgba(255,255,255,0.4);
    }

    .card input::placeholder {
      color: white;
      opacity: 0.6;
    }

    .card button {
      background: #3da9fc;
      color: #fff;
      text-shadow: 1px 1px #222;
      transition: 0.3s;
      padding: 0.5em 2em;
      border-radius: 10px;
      border: none;
      cursor: pointer;
    }

    .card button:active {
      transform: scale(0.95);
    }

    /* ===== DASHBOARD (Tampilan di Gambar 1) ===== */
    #dashboard {
      background-color: #3da9fc;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      padding: 1.5em;
      text-align: center;
      
    }

    #dashboard h1 {
      font-family: 'Luckiest Guy', cursive;
      color: white;
      font-size: 2.8em;
    }

    #dashboard h1 span.move {
      color: #ffd60a;
    }

    #dashboard p.subtitle {
      color: #fff;
      opacity: 0.8;
      font-size: 0.9em;
      margin-top: 1px;
    }

    #dashboard .hero img {
      width: 130px;
      margin: 1em 0;
    }

    #dashboard h2 {
      color: white;
      font-weight: 600;
    }

    .menu {
      background: transparent;
      border-radius: 20px;
      padding: 1em;
      display: grid;
      grid-template-columns: 1fr 1fr;
      grid-gap: 0.8em;
      width: 100%;
    }

    .menu button {
      background: #eef5ff;
      border-radius: 12px;
      text-align: center;
      padding: 1em;
      transition: 0.3s;
      font-weight: bold;
      color: #222;
      border: none;
      cursor: pointer;
      box-shadow: 1px 1px 3px #222;
    }

    .menu button:hover {
      transform: scale(1.05);
    }

    /* ===== AKTIVITAS ===== */
    #aktivitas {
      background-color: #ffe66d;
      padding: 1.5em;
    }

    #aktivitas h2 {
      text-align: center;
      font-family: 'Luckiest Guy', cursive;
      margin-bottom: 1em;
      color: #222;
    }

    .materi-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 1em;
    }

    .materi-item {
      background: white;
      border-radius: 12px;
      text-align: center;
      padding: 1em;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: transform 0.3s;
    }

    .materi-item:hover {
      transform: scale(1.05);
    }

    .materi-item img {
      width: 80px;
      height: 80px;
      object-fit: contain;
      margin-bottom: 0.5em;
    }

    /* ===== DETAIL MATERI ===== */
    #detailMateri {
      background: #DDF4E7;
      padding: 1.5em;
      text-align: center;
    }

    #detailMateri img {
      width: 200px;
      margin: 1em 0;
    }

    #detailMateri h2 {
      font-family: 'Luckiest Guy', cursive;
      color: #3da9fc;
    }

    #detailMateri p, #detailMateri ul, #detailMateri ol {
      background-color: #fefefe;
      padding: 1em 0.5em;
      border-radius: 15px;
    }

    #detailMateri p {
      margin: 1em auto 0em auto;
      width: 90%;
      line-height: 1.4;
      text-align: left;
    }

    #detailMateri ul, #detailMateri ol {
      text-align: left;
      width: 90%;
      list-style-position: inside;
    }

    #detailMateri button, .page button {
      background: #3da9fc;
      color: white;
      padding: 0.5em 1.5em; /* Disesuaikan agar tidak terlalu besar */
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-weight: bold;
      margin-top: 1em; 
    }

    .page .menu button {
      background: #fff;
      color: #222;
    }

    /* ===== HALAMAN LAIN (Progress) - BARU ===== */
    #progress {
        background-color: #ffd66d; /* Background Kuning/Oranye Terang */
        padding: 1.5em;
        text-align: center;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }

    #progress h2 {
        display: none; /* Hapus h2 lama */
    }

    .progress-card {
        background-color: white;
        border-radius: 25px;
        padding: 1.5em 1em;
        border: 15px solid #ffa500; /* Tepi luar Oranye */
        max-width: 350px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        width: 90%;
    }

    .progress-title-wrapper {
        margin-bottom: 20px;
    }

    .progress-title {
        font-family: 'Luckiest Guy', cursive;
        color: #222;
        font-size: 1.8em;
        text-align: center;
    }

    .chart-ring-wrapper {
        width: 150px; /* Ukuran total chart ring */
        height: 150px;
        margin: 1em auto;
        position: relative;
    }

    .chart-ring-text {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
    }

    .chart-ring-text .count {
        font-family: 'Luckiest Guy', cursive;
        font-size: 2em;
        color: #3da9fc; /* Warna biru */
        line-height: 1;
    }

    .total-point {
        margin: 1.5em 0 1em;
    }

    .total-point .label {
        font-size: 1em;
        font-weight: bold;
        color: #222;
        opacity: 0.7;
    }

    .total-point .value {
        font-family: 'Luckiest Guy', cursive;
        font-size: 2.5em;
        color: #ffa500; /* Warna oranye */
        line-height: 1;
    }

    .chart-bar-wrapper {
        width: 90%;
        margin: 2em auto 1.5em;
    }

    .badge-list {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-top: 1em;
    }

    .badge-item {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background-color: #f0f0f0;
        display: flex;
        justify-content: center;
        align-items: center;
        border: 3px solid #ffd60a; /* Contoh border lencana */
    }

    .badge-item img {
        width: 60%;
        height: 60%;
        object-fit: contain;
    }
    
    /* ===== PANDUAN BARU CSS ===== */
    #panduan {
        background-color: #6cdd6c; /* Background hijau */
        padding: 1.5em; 
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start; 
    }

    #panduan h2 {
        display: none; /* Hapus h2 lama */
    }

    .panduan-card {
        background-color: white;
        border-radius: 20px; 
        padding: 1.5em;
        border: 15px solid #6cdd6c; 
        max-width: 300px; 
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 90%;
        margin-top: 2em; 
    }

    .panduan-title {
        font-family: 'Luckiest Guy', cursive;
        color: #222; 
        font-size: 1.8em;
        text-align: center;
        line-height: 1.1;
        margin-bottom: 0.5em;
    }

    .panduan-image {
        width: 120px; 
        margin-bottom: 1em;
    }

    .panduan-list {
        list-style: none;
        padding: 0;
        margin: 0;
        width: 100%;
    }

    .panduan-item {
        background-color: transparent;
        border-radius: 10px;
        padding: 1em 0;
        text-align: center;
        font-weight: bold;
        color: #222;
        border-top: 1px solid #ddd; 
        cursor: pointer;
    }

    .panduan-item:first-child {
        border-top: none;
    }


    /* ===== INTERAKTIF BARU CSS ===== */
    #interaktif {
        /* Background Oranye terang di sisi kartu */
        background-color: #ffd66d; 
        padding: 1.5em; 
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center; 
    }

    .interaktif-card {
        background-color: white;
        border-radius: 25px; 
        padding: 1.5em 1em;
        /* Tepi luar Oranye */
        border: 15px solid #ffa500; 
        max-width: 350px; 
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        width: 90%;
    }

    .interaktif-title-wrapper {
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        padding-bottom: 15px;
        margin-bottom: 15px;
        border-bottom: 1px solid #ddd;
    }

    .interaktif-back-btn {
        position: absolute;
        left: 0;
        font-size: 2em;
        font-weight: bold;
        color: #222;
        cursor: pointer;
        line-height: 1;
    }

    .interaktif-title {
        font-family: 'Luckiest Guy', cursive;
        color: #222; 
        font-size: 1.5em;
        text-align: center;
    }

    .interaktif-list {
        list-style: none;
        padding: 0;
        margin: 0;
        width: 100%;
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .interaktif-item {
        background-color: white;
        border-radius: 15px;
        padding: 10px 15px;
        font-weight: bold;
        color: #222;
        display: flex;
        align-items: center;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        transition: transform 0.2s;
        cursor: pointer;
    }

    .interaktif-item:hover {
        transform: scale(1.02);
    }

    .interaktif-icon {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        margin-right: 15px;
        border: 3px solid #ffd60a; /* Border kuning */
    }

    .interaktif-icon img {
        width: 60%;
        height: 60%;
        object-fit: contain;
    }

    .menu-item {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      gap: 0.5em;
    }

    .twice {
      grid-column: span 2;
      flex-direction: row;
    }

    .thumbnail {
      width: 80px;
    }

    .thumbnail-ss {
      width: 40px;
    }

    #cariTahu {
      background-color: #BDE3C3;
      padding-bottom: 5em;
    }


    .bacaan {
      font-weight: 100;
      width: 80%;
      background-color: rgba(255,255,255,.8);
      border: 0.5em solid #6cdd6c;
      transition: 1s;
    }

    .bacaan:hover {
      transform: scale(1.05);
    }

    .bacaan h2 {
      margin-bottom: 0.5em;
    }
    .bacaan p {
      text-indent: 2em;
      text-align: left;
    }

    .bacaan ol {
      padding: 0.5em;
      text-align: left;
    }
  </style>
</head>
<body>
  <div id="app-wrapper">

    <section id="splash" class="page active">
      <h1><span class="fun text-title">FUN</span> <span class="move text-title">MOVE</span></h1>
      <p>Ayo Bergerak Bersama!</p>
      <img src="assets/run.png" alt="Anak berlari" class="run-img" />
      <div class="progress"><div class="bar"></div></div>
    </section>

    <section id="main" class="page">
      <div class="header">
        <h2>Halo!</h2>
        <h2 id="sapaNama">Perkenalkan dirimu</h2>
      </div>
      <div class="card">
        <input type="text" placeholder="Masukkan nama kamu" id="nama" />
        <input type="text" placeholder="Masukkan umur kamu" id="umur" />
        <input type="text" placeholder="Masukkan kelas kamu" id="kelas" />
        <input type="text" placeholder="Masukkan sekolah kamu" id="sekolah" />
        <input type="text" placeholder="Masukkan hobi kamu" id="hobi" />
        <button id="simpanProfile" onclick="simpanProfile()">Simpan</button>
      </div>
    </section>

    <section id="dashboard" class="page">
      <div>
        <h1><span class="fun">FUN</span> <span class="move">MOVE</span></h1>
        <p class="subtitle">Physical Activity 10-12</p>
      </div>
      <div class="hero">
        <img src="assets/boy-waved.png" alt="Running girl" />
        <h2 id="sapaanDashboard">Ayo Bergerak!</h2>
      </div>
      <div class="menu">
        <button onclick="showPage('cariTahu')" class="twice menu-item">
          <img class="thumbnail-ss" src="assets/bulb.png" alt="" />
          Ayo cari tahu!
        </button>
        <button onclick="showPage('aktivitas')" class="menu-item">
          <img class="thumbnail" src="assets/touch.png" alt="" />
          Aktivitas
        </button>
        <button onclick="showPage('interaktif')" class="menu-item">
          <img class="thumbnail" src="assets/interaksi.png" alt="" />
          Interaktif
        </button>
        <button onclick="showPage('progress')" class="menu-item">
          <img class="thumbnail" src="assets/go.png" alt="" />
          Progress
        </button>
        <button onclick="showPage('panduan')" class="menu-item">
          <img class="thumbnail" src="assets/guide.png" alt="">
          Panduan
        </button>
      </div>
    </section>

    <section id="cariTahu" class="page">
      <div class="card bacaan">
        <h2>Apa Itu <strong>Aktivitas Jasmani</strong> ?</h2>
        <p><strong>Aktivitas jasmani</strong> adalah bentuk kegiatan yang melibatkan gerakan tubuh 
          dan membutuhkan energi (WHO, 2020). Dalam konteks pendidikan, <strong>aktivitas jasmani</strong> tidak hanya bertujuan untuk melatih fisik, tetapi juga untuk mengembangkan keterampilan motorik, kemampuan sosial, serta membangun kebiasaan hidup sehat sejak dini.</p>
      </div>
      <div class="card bacaan">
        <h2>Karakteristik Anak Usia 10-12 Tahun</h2>
        <p>
          Anak usia 10–12 tahun mengalami perkembangan pesat dalam berbagai aspek.
          Dari segi fisik, terjadi peningkatan kekuatan otot, keseimbangan, dan koordinasi tubuh (Bailey, 2019). Secara kognitif, menurut teori Piaget (1972), anak pada tahap ini mulai mampu berpikir logis dan memahami hubungan sebab-akibat — termasuk menyadari pentingnya aktivitas jasmani bagi kesehatan.
        </p>
        <p>
        Dari aspek sosial, anak mulai lebih senang berinteraksi dengan teman sebaya dan menikmati kegiatan kelompok. Oleh karena itu, model aktivitas jasmani yang dirancang untuk mereka sebaiknya mengandung unsur kerja sama, kompetisi positif, dan permainan yang menyenangkan (Tay et al., 2021).
        </p>

      </div>

      <div class="card bacaan">
        <h2>Manfaat Aktivitas Jasmani</h2>
        <ol>
          <li><b>Manfaat fisik</b> : Aktivitas jasmani meningkatkan kebugaran jantung dan paru, memperkuat tulang dan otot, serta menjaga berat badan ideal (WHO, 2020).</li>
          <li><b>Manfaat mental dan emosional</b> : Anak yang aktif cenderung lebih bahagia, percaya diri, dan mampu mengendalikan stres. Aktivitas fisik membantu meningkatkan hormon endorfin yang berperan dalam rasa senang (Veraksa et al., 2021).</li>
          <li><b>Manfaat sosial dan kognitif</b> : melalui permainan dan olahraga, anak belajar bekerja sama, mematuhi aturan, dan menghargai teman. Aktivitas jasmani juga terbukti dapat meningkatkan konsentrasi dan prestasi belajar (Hanifah, 2023).</li>
        </ol>
      </div>

      <div class="card bacaan">
        <h2>Prinsip Pengembangan Model Physical Activity untuk Anak</h2>
        <ol>
          <li>Kesesuaian dengan Tahap Perkembangan Anak</li>
          <li>Aspek Kesenangan dan Bermain (Fun Learning)</li>
          <li>Variasi dan Tantangan Bertahap</li>
          <li>Keterlibatan Sosial dan Kerja Sama</li>
          <li>Integrasi dengan Lingkungan Sekolah dan Keluarga</li>
        </ol>
      </div>

      <button onclick="showPage('dashboard')">Kembali ke Dashboard</button>
    </section>

    <section id="aktivitas" class="page">
      <h2>Daftar Aktivitas</h2>
      <div class="materi-list" id="listAktivitas"></div>
      <button onclick="showPage('dashboard')">Kembali ke Dashboard</button>
    </section>

    <section id="detailMateri" class="page">
      <img id="materiGambar" src="" alt="Gambar Materi">
      <h2 id="materiJudul"></h2>
      <p id="materiDeskripsi"></p>
      <p>Alat yang dibutuhkan</p>
      <ol type="a" id="alat"></ol>
      <p>Cara melakukan</p>
      <ol type="1" id="praktik"></ol>
      <button onclick="showPage('aktivitas')">Kembali</button>
    </section>

    <section id="interaktif" class="page">
      <div class="interaktif-card">
          <h2 class="interaktif-title-wrapper">
              <span class="interaktif-back-btn" onclick="showPage('dashboard')">&larr;</span>
              <span class="interaktif-title">Menu Interaktif</span>
          </h2>
          <ul class="interaktif-list">
              <li class="interaktif-item">
                  <span class="interaktif-icon" style="background-color: #3da9fc;">
                      <img src="assets/quiz-icon.png" alt="Kuis Gerak"> 
                  </span>
                  Kuis Gerak
              </li>
              <li class="interaktif-item">
                  <span class="interaktif-icon" style="background-color: #ffd60a;">
                      <img src="assets/smile-icon.png" alt="Refleksi Diri"> 
                  </span>
                  Refleksi Diri
              </li>
              <li class="interaktif-item">
                  <span class="interaktif-icon" style="background-color: #ffd60a;">
                      <img src="assets/star-icon.png" alt="Poin & Lencana"> 
                  </span>
                  Poin & Lencana
              </li>
              <li class="interaktif-item">
                  <span class="interaktif-icon" style="background-color: #3da9fc;">
                      <img src="assets/game-icon.png" alt="Mini Game"> 
                  </span>
                  Mini Game
              </li>
          </ul>
      </div>
      <button onclick="showPage('dashboard')">Kembali ke Dashboard</button>
    </section>

    <section id="progress" class="page">
      <div class="progress-card">
          <div class="progress-title-wrapper">
              <h2 class="progress-title">Menu Progress</h2>
          </div>
          
          <div class="chart-ring-wrapper">
              <canvas id="activityRingChart"></canvas>
              <div class="chart-ring-text">
                  <span class="count" id="currentActivityCount">0/0</span>
              </div>
          </div>

          <div class="total-point">
              <p class="label">Total Poin</p>
              <p class="value" id="totalPointValue">0</p>
          </div>

          <div class="chart-bar-wrapper">
              <canvas id="pointBarChart"></canvas>
          </div>
          
          <div class="badge-list">
              <div class="badge-item" style="border-color: #3da9fc;">
                   <img src="assets/star-icon.png" alt="Lencana 1"> 
              </div>
              <div class="badge-item" style="border-color: #ffa500;">
                   <img src="assets/smile-icon.png" alt="Lencana 2">
              </div>
              <div class="badge-item" style="border-color: #6cdd6c;">
                   <img src="assets/quiz-icon.png" alt="Lencana 3">
              </div>
          </div>
      </div>
      <button onclick="showPage('dashboard')">Kembali ke Dashboard</button>
    </section>

    <section id="panduan" class="page">
      <div class="panduan-card">
          <h2 class="panduan-title">Menu Panduan</h2>
          <img src="assets/boy-reading.png" alt="Anak membaca buku panduan" class="panduan-image" /> 
          <ul class="panduan-list">
              <li class="panduan-item">Cara Menggunakan</li>
              <li class="panduan-item">Tips Keamanan</li>
              <li class="panduan-item">Perlengkapan</li>
              <li class="panduan-item">Kapan Waktu Terbaik</li>
          </ul>
      </div>
      <button onclick="showPage('dashboard')">Kembali ke Dashboard</button>
    </section>
  
  </div> 
  <script>
    // Dummy data
    const materiData = [
      {
        id: 1,
        judul: "Peregangan Dasar",
        deskripsi: "Latihan ringan untuk memulai hari dengan tubuh segar dan siap beraktivitas.",
        gambar: "assets/stretch.png"
      },
      {
        id: 2,
        judul: "Lompat Tali",
        deskripsi: "Melatih kelincahan dan kebugaran tubuh dengan cara yang menyenangkan.",
        gambar: "assets/jump.png"
      }
    ];
    
    // Variabel global untuk menyimpan referensi chart
    let activityRingChart;
    let pointBarChart;

    window.addEventListener("load", () => {
      setTimeout(() => {
        showPage("main");
      }, 3000);
    });

    function initProgressCharts() {
        // Hancurkan chart lama jika ada untuk mencegah duplikasi
        if (activityRingChart) activityRingChart.destroy();
        if (pointBarChart) pointBarChart.destroy();
        
        // Dummy Data
        const currentActivity = 12;
        const totalActivity = 30;
        const totalPoints = 180;
        
        // Update teks total
        document.getElementById('currentActivityCount').textContent = `${currentActivity}/${totalActivity}`;
        document.getElementById('totalPointValue').textContent = totalPoints;

        // 1. Doughnut Chart (Activity Ring)
        const ringCtx = document.getElementById('activityRingChart');
        activityRingChart = new Chart(ringCtx, {
            type: 'doughnut',
            data: {
                datasets: [{
                    data: [currentActivity, totalActivity - currentActivity],
                    backgroundColor: ['#3da9fc', '#ffa500'], 
                    borderWidth: 0,
                }]
            },
            options: {
                cutout: '80%', 
                plugins: {
                    legend: { display: false },
                    tooltip: { enabled: false }
                },
                responsive: true,
                maintainAspectRatio: false,
            }
        });

        // 2. Bar Chart (Points)
        const barCtx = document.getElementById('pointBarChart');
        pointBarChart = new Chart(barCtx, {
            type: 'bar',
            data: {
                labels: ['1', '2', '3', '4'],
                datasets: [{
                    label: 'Poin',
                    data: [40, 60, 100, 140], 
                    backgroundColor: '#6cdd6c', 
                    borderRadius: 5,
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                scales: {
                    y: {
                        beginAtZero: true,
                        display: false, 
                        grid: { display: false }
                    },
                    x: {
                        grid: { display: false },
                        border: { display: false }
                    }
                },
                plugins: {
                    legend: { display: false },
                    tooltip: { enabled: false }
                }
            }
        });
    }

    function showPage(id) {
      document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
      document.getElementById(id).classList.add("active");

      if (id === "dashboard") {
        let tmp = getProfile();
        document.getElementById("sapaanDashboard").textContent = `Halo, ${tmp}!`;
      } 
      else if (id === "aktivitas") {
        renderAktivitas();
      }
      else if (id === "progress") {
        initProgressCharts();
      }
      else if(id === "main"){
        if(localStorage.getItem('profile') != undefined){
          //showPage('dashboard'); //off dulu untuk uji coba, 
          //return;
        }

      }
    }

    function simpanProfile() {
      const nama = document.getElementById("nama").value.trim();
      if (!nama) {
        alert("Nama tidak boleh kosong!");
        return;
      }

      const dataProfile = {
        nama,
        umur: document.getElementById("umur").value,
        kelas: document.getElementById("kelas").value,
        sekolah: document.getElementById("sekolah").value,
        hobi: document.getElementById("hobi").value
      };

      localStorage.setItem("profile", JSON.stringify(dataProfile));
      showPage("dashboard");
    }

    function getProfile() {
      if(localStorage.getItem('profile') != undefined){
      let tmp = localStorage.getItem('profile');
      tmp = JSON.parse(tmp);
      return tmp.nama;
      }
      else {
        return false;
      }
    }

    function renderAktivitas() {
      const container = document.getElementById("listAktivitas");
      container.innerHTML = all.map((m,i) => `
        <div class="materi-item" onclick="openMateri(${i})">
          <!--<img src="${m.gambar}" alt="${m.aktivitas}" />-->
          <h3>${m.aktivitas}</h3>
        </div>
      `).join("");
    }

    function openMateri(id) {
      const data = all[id]; //materiData.find(m => m.id === id);
      document.getElementById("materiJudul").textContent = data.aktivitas;
      if(data.gambar != null){
        document.getElementById("materiGambar").src = data.gambar;
      }
      else {
        document.getElementById("materiGambar").style.display = "none";
      }
      document.getElementById("materiDeskripsi").textContent = data.tujuan;
      // ul alat
      let alat = document.getElementById("alat");
      alat.innerHTML = data.alat.map( m => `
        <li>${m}</li>
      `).join("");

      //ul praktik
      let praktik = document.getElementById("praktik");
      praktik.innerHTML = data.praktik.map( m => `
        <li>${m}</li>
      `).join("");

      showPage("detailMateri");
    }
  </script>
</body>
</html>
